{"ast":null,"code":"import{ChangeEvent,FC,useCallback,useEffect,useState,useRef}from\"react\";import classnames from\"classnames\";import\"./multiRangeSlider.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MultiRangeSlider(_ref){let{min,max,onChange,disabled}=_ref;const[minVal,setMinVal]=useState(min);const[maxVal,setMaxVal]=useState(max);const minValRef=useRef(null);const maxValRef=useRef(null);const range=useRef(null);const getPercent=useCallback(value=>Math.round((value-min)/(max-min)*100),[min,max]);useEffect(()=>{if(maxValRef.current){const minPercent=getPercent(minVal);const maxPercent=getPercent(+maxValRef.current.value);if(range.current){range.current.style.left=\"\".concat(minPercent,\"%\");range.current.style.width=\"\".concat(maxPercent-minPercent,\"%\");}}},[minVal,getPercent]);useEffect(()=>{if(minValRef.current){const minPercent=getPercent(+minValRef.current.value);const maxPercent=getPercent(maxVal);if(range.current){range.current.style.width=\"\".concat(maxPercent-minPercent,\"%\");}}},[maxVal,getPercent]);useEffect(()=>{onChange({min:minVal,max:maxVal});},[minVal,maxVal]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:min,max:max,value:minVal,ref:minValRef,onChange:event=>{const value=Math.min(+event.target.value,maxVal-1);setMinVal(value);event.target.value=value.toString();},className:classnames(\"thumb thumb--zindex-3\",{\"thumb--zindex-5\":minVal>max-100})}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:min,max:max,value:maxVal,ref:maxValRef,onChange:event=>{const value=Math.max(+event.target.value,minVal+1);setMaxVal(value);event.target.value=value.toString();},className:\"thumb thumb--zindex-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider__track\"}),/*#__PURE__*/_jsx(\"div\",{ref:range,className:\"slider__range\"})]})]});}","map":{"version":3,"names":["ChangeEvent","FC","useCallback","useEffect","useState","useRef","classnames","jsx","_jsx","jsxs","_jsxs","MultiRangeSlider","_ref","min","max","onChange","disabled","minVal","setMinVal","maxVal","setMaxVal","minValRef","maxValRef","range","getPercent","value","Math","round","current","minPercent","maxPercent","style","left","concat","width","children","type","ref","event","target","toString","className"],"sources":["/Users/gimseongu/Desktop/dev/Project1-React.js-Bootstrap/project1-video-editor/src/components/MultiRangeSlider.jsx"],"sourcesContent":["import {\n  ChangeEvent,\n  FC,\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n} from \"react\";\nimport classnames from \"classnames\";\nimport \"./multiRangeSlider.css\";\n\nexport default function MultiRangeSlider({ min, max, onChange, disabled }) {\n  const [minVal, setMinVal] = useState(min);\n  const [maxVal, setMaxVal] = useState(max);\n  const minValRef = useRef(null);\n  const maxValRef = useRef(null);\n  const range = useRef(null);\n\n  const getPercent = useCallback(\n    (value) => Math.round(((value - min) / (max - min)) * 100),\n    [min, max]\n  );\n\n  useEffect(() => {\n    if (maxValRef.current) {\n      const minPercent = getPercent(minVal);\n      const maxPercent = getPercent(+maxValRef.current.value);\n\n      if (range.current) {\n        range.current.style.left = `${minPercent}%`;\n        range.current.style.width = `${maxPercent - minPercent}%`;\n      }\n    }\n  }, [minVal, getPercent]);\n\n  useEffect(() => {\n    if (minValRef.current) {\n      const minPercent = getPercent(+minValRef.current.value);\n      const maxPercent = getPercent(maxVal);\n\n      if (range.current) {\n        range.current.style.width = `${maxPercent - minPercent}%`;\n      }\n    }\n  }, [maxVal, getPercent]);\n\n  useEffect(() => {\n    onChange({ min: minVal, max: maxVal });\n  }, [minVal, maxVal]);\n\n  return (\n    <div>\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        value={minVal}\n        ref={minValRef}\n        onChange={(event) => {\n          const value = Math.min(+event.target.value, maxVal - 1);\n          setMinVal(value);\n          event.target.value = value.toString();\n        }}\n        className={classnames(\"thumb thumb--zindex-3\", {\n          \"thumb--zindex-5\": minVal > max - 100,\n        })}\n      />\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        value={maxVal}\n        ref={maxValRef}\n        onChange={(event) => {\n          const value = Math.max(+event.target.value, minVal + 1);\n          setMaxVal(value);\n          event.target.value = value.toString();\n        }}\n        className=\"thumb thumb--zindex-4\"\n      />\n\n      <div className=\"slider\">\n        <div className=\"slider__track\"></div>\n        <div ref={range} className=\"slider__range\"></div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}